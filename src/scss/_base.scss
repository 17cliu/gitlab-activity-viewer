body {
    margin: 1rem;
    background: $color-bg;
    color: $color-text;
    font-family: $font-face-body;
    font-size: $font-size-regular;
    line-height: $leading-compact;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
}

a:link { color: $color-link; }
a:visited { color: $color-link-visited; }
a:active { color: $color-link-active; }
a:hover { color: $color-link-hover; }

button, input {
    font-family: $font-face-body;
}

h1 {
    font-size: $font-size-x-large;
    font-weight: 700;
    margin: 2rem 0;
}

h2 {
    font-size: $font-size-large;
    font-weight: 700;
    margin: 1rem 0;
}

h3 {
    font-size: $font-size-regular;
    font-weight: 700;
    margin: 1rem 0;
}

pre, code {
    font-family: $font-face-mono;
    color: $color-text-code;
}

.debug {
    border: 1px solid grey;
    height: 400px;
    overflow: scroll;
}

.activity-list {
    list-style-type: none;
}

// Scrollbars
// ----------------------------------------------------------------------------

* {
    scrollbar-width: thin;
    scrollbar-color: $color-scrollbar-fg $color-scrollbar-bg;
}

*::-webkit-scrollbar {
    width: 16px;
}

*::-webkit-scrollbar-track {
    background: $color-scrollbar-bg;
    border-radius: 6px;
}

*::-webkit-scrollbar-thumb {
    background-color: $color-scrollbar-fg;
    border-radius: 6px;
    border: 3px solid $color-scrollbar-bg;
}

// Forms
// ----------------------------------------------------------------------------

.form-row {
    display: block;
    margin: 2rem 0;
}

.text-input {
    display: block;
    margin: 0.4rem 0;
    padding: 0.2rem 0.5rem;
    font-size: $font-size-regular;
    line-height: $leading-regular;
    border: none;
    border-radius: 0.2rem;
    width: 20em;
    transition: background-color 0.2s ease;

    &.is-invalid {
        background: $color-mild;
    }
}

.fieldset legend {
    margin: 0 0 0.8rem;
}

.radio-label {
    display: block;
    margin: 0 0 0.4rem;
}

.radio-input {
    margin: 0 0.5rem 0 0;
}

.nested-fields {
    margin: 0 0 3rem 3rem;

    > .form-row {
        margin: 1rem 0;
    }

    > .form-row:first-child {
        margin: 0.5rem 0;
    }
}

.invalid-message {
    font-size: $font-size-small;
    font-weight: 700;
    color: $color-hot;
}

.btn {
    background: $color-xhot;
    border: none;
    border-radius: 0.2rem;
    cursor: pointer;
    font-size: $font-size-regular;
    padding: 0.5rem 1.5rem;

    &:hover {
        background: $color-xxhot;
    }

    &:active {
        background: $color-xxxhot;
    }
}

// Loader
// ----------------------------------------------------------------------------

.loader {
    margin: 1rem 0 3rem;

    .progress {
        -webkit-appearance: none;
        -moz-appearance: none;
        appearance: none;
        background-color: $color-progress-bg; // Bar background color in Firefox/IE
        border: 1px solid $color-progress-bg;
        border-radius: 0.2rem;
        color: $color-progress-fg; // Progress color in IE; ignored in other browsers
        height: 2rem;
        width: 16rem;
        max-width: 100%;

        &::-moz-progress-bar {
            background-color: $color-progress-fg; // Progress color in Firefox
            border-radius: 0.2rem;
        }

        &::-webkit-progress-bar {
            background-color: $color-bg; // Bar background color in Chrome
            border-radius: 0.2rem;
        }

        &::-webkit-progress-value {
            background-color: $color-progress-fg; // Progress color in Chrome
            border-radius: 0.2rem;
        }
    }

    label {
        display: block;
        margin-bottom: 0.5rem;
    }
}

// Dashboard
// ----------------------------------------------------------------------------

.dashboard {
    margin: 1rem 0 3rem;
}

// Tapestry
// ----------------------------------------------------------------------------

$tapestry-cell-size: 1.5rem;

.tapestry-legend {
    height: $tapestry-cell-size + 1rem;
    display: flex;
    margin-top: $tapestry-cell-size / 2;
}

.tapestry-window {
    margin-top: 1rem;
    overflow-x: scroll;
}

.tapestry-labels {
    display: flex;
    height: $tapestry-cell-size * 2;
}

.tapestry-label {
    width: $tapestry-cell-size;
    border: $tapestry-cell-size / 10 solid $color-bg;
    font-size: 9pt;
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
    padding-bottom: 0.2rem;
    line-height: $leading-regular;
}

.tapestry-label--2 {
    width: $tapestry-cell-size * 2;
}

.tapestry-label--3 {
    width: $tapestry-cell-size * 3;
}

.tapestry-label--4 {
    width: $tapestry-cell-size * 4;
}

.tapestry-label--5 {
    width: $tapestry-cell-size * 5;
}

.tapestry-label-year,
.tapestry-label-month {
    display: block;
}

.tapestry-label-year {
    font-weight: 700;
}

.tapestry {
    display: flex;
    height: $tapestry-cell-size * 7; // Display 7 days (1 week) in one column
    flex-direction: column;
    flex-wrap: wrap;
    justify-content: flex-start;
    align-content: flex-start;
}

.tapestry-cell {
    width: $tapestry-cell-size;
    height: $tapestry-cell-size;
    background: $color-text;
    color: $color-bg;
    border: $tapestry-cell-size / 10 solid $color-bg;
    font-size: 9pt;
    text-align: center;
    flex-shrink: 0;
}

.tapestry-cell--0 {
    background: $color-bland;
}

.tapestry-cell--1 {
    background: $color-mild;
}

.tapestry-cell--2 {
    background: $color-medium;
}

.tapestry-cell--3 {
    background: $color-hot;
}

.tapestry-cell--4 {
    background: $color-xhot;
}

.tapestry-cell--5 {
    background: $color-xxhot;
}

.tapestry-cell--6 {
    background: $color-xxxhot;
}

// Charts
// ----------------------------------------------------------------------------

.charts {
    display: flex;
    flex-direction: column;
    margin: 1rem 0;

    @media (max-width: 45em) {
        flex-direction: column;
    }
}

// Footer
// ----------------------------------------------------------------------------

.footer {
    border-top: 1px solid $color-border;
    font-size: $font-size-small;
    margin: 8rem 0 1rem;
    padding: 1rem 0;

    a {
        text-decoration: none;
        display: inline-block;
        padding: 0.33rem 0 0;
    }

    a + a {
        margin-left: 1rem;
    }

    a:hover {
        color: $color-text;

        .text-label {
            border-bottom: 1px solid $color-link;
        }
    }
}

// Utilities
// ----------------------------------------------------------------------------

.visually-hidden {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
}
